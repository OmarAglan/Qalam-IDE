/* ==========================================================================
   Qalam IDE - Premium Modern Dark (VSCode-ish, RTL-first)
   ========================================================================== */

/* ------------------------------ Global ----------------------------------- */
* {
    outline: 0;
}

QWidget {
    color: #c9d1d9;
    background-color: transparent;
    font-family: "Tajawal", "Segoe UI", sans-serif;
    font-size: 13px;
}

QMainWindow {
    background-color: #0d1117;
}

/* Avoid default sunken frames */
QFrame {
    border: none;
}

/* ------------------------------ Editor ----------------------------------- */
/* Keep font size controlled by settings; only set family + colors here */
TEditor {
    background-color: #0d1117;
    color: #adbac7;
    border: none;
    selection-background-color: #1f6feb55;
    selection-color: #ffffff;
    font-family: "Kawkab Mono", "Consolas", monospace;
}

/* Generic plain text areas */
QPlainTextEdit, QTextEdit {
    background-color: #0d1117;
    color: #adbac7;
    border: 1px solid #21262d;
    border-radius: 6px;
    selection-background-color: #1f6feb55;
    selection-color: #ffffff;
}

/* ------------------------------ Tabs ------------------------------------- */
QTabWidget::pane {
    border: none;
    background: #0d1117;
}

QTabBar {
    background-color: #161b22;
    border: none;
}

/* Tabs should look like independent file headers with a 2px top accent */
QTabBar::tab {
    background: #161b22;
    color: #8b949e;
    padding: 7px 18px;
    margin: 0px;
    border: none;
    border-top: 2px solid transparent;
    border-left: 1px solid #21262d;
    min-width: 110px;
}

QTabBar::tab:selected {
    background: #0d1117;
    color: #c9d1d9;
    border-top: 2px solid #1f6feb;
}

QTabBar::tab:hover:!selected {
    background: #1f2630;
    color: #adbac7;
}

/* Remove extra spacing around the tabbar */
QTabWidget::tab-bar {
    left: 0px;
}

/* Close button */
QTabBar::close-button {
    image: url(:/icons/resources/close.svg);
    background: transparent;
    border: none;
    padding: 2px;
    margin: 2px;
    subcontrol-position: right;
}

QTabBar::close-button:hover {
    background: #1f2630;
    border-radius: 4px;
}

/* ------------------------------ Buttons ---------------------------------- */
QPushButton {
    background-color: #1f6feb;
    color: #ffffff;
    border: 1px solid #1f6feb;
    border-radius: 6px;
    padding: 6px 14px;
}

QPushButton:hover {
    background-color: #388bfd;
    border-color: #388bfd;
}

QPushButton:pressed {
    background-color: #0969da;
    border-color: #0969da;
}

QPushButton:disabled {
    background-color: #21262d;
    border-color: #30363d;
    color: #8b949e;
}

/* Flat / icon-only buttons */
QToolButton, QPushButton[flat="true"] {
    background: transparent;
    border: 1px solid transparent;
    border-radius: 6px;
    padding: 4px 8px;
    color: #c9d1d9;
}

QToolButton:hover, QPushButton[flat="true"]:hover {
    background: #1f2630;
    border-color: #21262d;
}

QToolButton:pressed, QPushButton[flat="true"]:pressed {
    background: #21262d;
}

/* ------------------------------ Inputs ----------------------------------- */
QLineEdit, QComboBox, QSpinBox, QDoubleSpinBox {
    background-color: #0d1117;
    border: 1px solid #30363d;
    border-radius: 6px;
    padding: 6px 10px;
    color: #c9d1d9;
    selection-background-color: #1f6feb55;
}

QLineEdit:focus, QComboBox:focus, QSpinBox:focus, QDoubleSpinBox:focus {
    border: 1px solid #58a6ff;
}

QComboBox::drop-down {
    border: none;
    width: 24px;
}

QComboBox QAbstractItemView {
    background: #161b22;
    border: 1px solid #30363d;
    selection-background-color: #1f6feb33;
    selection-color: #c9d1d9;
    outline: 0;
}

/* ------------------------------ Menus ------------------------------------ */
QMenuBar {
    background-color: transparent;
    color: #c9d1d9;
    border: none;
}

QMenuBar::item {
    background-color: transparent;
    padding: 4px 10px;
}

QMenuBar::item:selected {
    background-color: #1f2630;
    border-radius: 6px;
}

QMenuBar::item:pressed {
    background-color: #1f6feb;
    color: #ffffff;
    border-radius: 6px;
}

QMenu {
    background-color: #161b22;
    border: 1px solid #30363d;
    padding: 6px 0px;
}

QMenu::item {
    padding: 7px 30px 7px 20px;
    background-color: transparent;
}

QMenu::item:selected {
    background-color: #1f6feb33;
    color: #c9d1d9;
}

QMenu::separator {
    height: 1px;
    background: #21262d;
    margin: 6px 10px;
}

/* ------------------------------ Tree/List -------------------------------- */
QTreeView, QListView, QListWidget {
    background-color: #161b22;
    border: none;
    color: #c9d1d9;
    outline: 0;
}

QTreeView::item, QListView::item, QListWidget::item {
    padding: 6px 10px;
    border-radius: 6px;
}

QTreeView::item:hover, QListView::item:hover, QListWidget::item:hover {
    background-color: #1f2630;
}

QTreeView::item:selected, QListView::item:selected, QListWidget::item:selected {
    background-color: #1f6feb33;
    color: #c9d1d9;
}

/* Minimal branch indicators (uses existing project arrows) */
QTreeView::branch {
    background: transparent;
}

QTreeView::branch:closed:has-children {
    border-image: none;
    image: url(:/icons/resources/right-arrow.svg);
}

QTreeView::branch:open:has-children {
    border-image: none;
    image: url(:/icons/resources/down-arrow.svg);
}

/* ------------------------------ Scrollbars ------------------------------- */
/* Ghost scrollbar: thin, transparent track, rounded handle */
QScrollBar:vertical {
    border: none;
    background: transparent;
    width: 10px;
    margin: 0;
}

QScrollBar::handle:vertical {
    background: #6e768166;
    min-height: 24px;
    border-radius: 5px;
    margin: 2px;
}

QScrollBar::handle:vertical:hover {
    background: #6e7681b3;
}

QScrollBar::add-line:vertical, QScrollBar::sub-line:vertical {
    height: 0px;
}

QScrollBar::add-page:vertical, QScrollBar::sub-page:vertical {
    background: transparent;
}

QScrollBar:horizontal {
    border: none;
    background: transparent;
    height: 10px;
    margin: 0;
}

QScrollBar::handle:horizontal {
    background: #6e768166;
    min-width: 24px;
    border-radius: 5px;
    margin: 2px;
}

QScrollBar::handle:horizontal:hover {
    background: #6e7681b3;
}

QScrollBar::add-line:horizontal, QScrollBar::sub-line:horizontal {
    width: 0px;
}

QScrollBar::add-page:horizontal, QScrollBar::sub-page:horizontal {
    background: transparent;
}

/* ------------------------------ Splitter --------------------------------- */
/* Subtle 1px separator, expands on hover for grab area */
QSplitter::handle {
    background-color: #21262d;
}

QSplitter::handle:horizontal {
    width: 1px;
}

QSplitter::handle:horizontal:hover {
    width: 4px;
    background-color: #30363d;
}

QSplitter::handle:vertical {
    height: 1px;
}

QSplitter::handle:vertical:hover {
    height: 4px;
    background-color: #30363d;
}

/* ------------------------------ Tooltips --------------------------------- */
QToolTip {
    background-color: #161b22;
    border: 1px solid #30363d;
    color: #c9d1d9;
    padding: 6px 10px;
    border-radius: 6px;
}

/* ------------------------------ StatusBar -------------------------------- */
/* Status bar is custom, but keep fallback clean */
QStatusBar {
    background-color: #1f6feb;
    color: #ffffff;
}
